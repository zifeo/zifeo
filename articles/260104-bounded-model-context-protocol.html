<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/ee40bb094c99a29a-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/_next/static/css/677317192a9a4da0.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-7faedcd12e67e0b9.js"/><script src="/_next/static/chunks/e6e143be-b820f14004d7c66f.js" async=""></script><script src="/_next/static/chunks/660-59c17b01e7b9b639.js" async=""></script><script src="/_next/static/chunks/main-app-2399aa1ce0a64756.js" async=""></script><script src="/_next/static/chunks/547-e9d57b52519ab45b.js" async=""></script><script src="/_next/static/chunks/app/articles/%5Barticle%5D/layout-e2a8ba54026a12cf.js" async=""></script><script src="/_next/static/chunks/912-4ac0b7ead9120b94.js" async=""></script><script src="/_next/static/chunks/app/articles/%5Barticle%5D/page-82c6a766fca69df4.js" async=""></script><title>Bounded MCPs: minimizing noise, maximizing agency</title><meta name="description" content="How to deploy a secure, project-specific agentic interface for seamless LLM iteration."/><link rel="icon" href="/icon.svg?a05afc09b4abba7d" type="image/svg+xml" sizes="any"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_eef148 bg-white "><div class="container my-16"><div class="flex gap-4 items-center"><div class="grow-0"><a href="/"><img alt="Teo&#x27;s picture" loading="lazy" width="100" height="100" decoding="async" data-nimg="1" class="rounded-full" style="color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(&quot;/images/optimized/teo-opt-10.WEBP&quot;)" srcSet="/images/optimized/teo-opt-128.WEBP 1x, /images/optimized/teo-opt-256.WEBP 2x" src="/images/optimized/teo-opt-256.WEBP"/></a></div><div class="grow flex flex-col space-y-1"><a href="/"><h1>Teo Stocco</h1></a><p>Fractional Chief of Technology at KiWi and Exponent</p><nav class="flex gap-1 text-xs uppercase"><ul><li><a href="https://linkedin.com/in/zifeo" title="Teo&#x27;s LinkedIn">LinkedIn</a></li></ul><ul><li><a href="https://github.com/zifeo" title="Teo&#x27;s GitHub">GitHub</a></li></ul><ul><li><a href="https://twitter.com/zifeo" title="Teo&#x27;s Twitter">Twitter</a></li></ul><ul><li><a href="https://dev.to/zifeo" title="Teo&#x27;s DevTo">DevTo</a></li></ul></nav></div></div></div><main class="container my-16 flex flex-col space-y-8"><div class="flex justify-between text-sm"><div class="group"><a class="group-hover:no-underline text-zinc-500" href="/">← <span class="group-hover:underline text-zinc-500">Back</span></a></div><div><a href="https://github.com/zifeo/zifeo/edit/main/content/articles/260104-bounded-model-context-protocol.mdx" class="text-zinc-500">Edit/improve on Github</a></div></div><article class="flex flex-col space-y-4"><h2 id="bounded-mcps-minimizing-noise-maximizing-agency"><a aria-hidden="true" tabindex="-1" href="#bounded-mcps-minimizing-noise-maximizing-agency"><span class="icon icon-link"></span></a>Bounded MCPs: minimizing noise, maximizing agency</h2>
<p>While Large Language Models (LLMs) are increasingly capable of writing code<sup><a href="#user-content-fn-1" id="user-content-fnref-1" data-footnote-ref="true" aria-describedby="footnote-label">1</a></sup>, they often struggle with the &quot;last mile&quot; of execution. Setting your LLM agent in auto-run on your terminal is a security and privacy risk, while giving it no access severely limits its utility.</p>
<p>The <strong>Bounded MCP pattern</strong> solves this by treating the Model Context Protocol not as a global utility, but as a project-specific agentic interface. This aligns with the vision of MCP as a &quot;USB-C for AI&quot;<sup><a href="#user-content-fn-2" id="user-content-fnref-2" data-footnote-ref="true" aria-describedby="footnote-label">2</a></sup>, but scoped strictly to your project&#x27;s context. It creates a secure, version-controlled digital twin of your repository&#x27;s capabilities.</p>
<h3 id="b-mcp-architecture"><a aria-hidden="true" tabindex="-1" href="#b-mcp-architecture"><span class="icon icon-link"></span></a>B-MCP architecture<!-- --> <a id="B-MCP-architecture" href="#B-MCP-architecture">#</a></h3>
<p>The core concept is a self-reloading loop that allows the LLM to modify its own toolset without the developer ever leaving the flow state. This creates a reflexive system that observes and modifies its own boundaries.</p>
<h4 id="1-the-project-scoped-server"><a aria-hidden="true" tabindex="-1" href="#1-the-project-scoped-server"><span class="icon icon-link"></span></a>1. The project-scoped server<!-- --> <a id="1.-The-project-scoped-server" href="#1.-The-project-scoped-server">#</a></h4>
<p>Unlike a global MCP server that has access to your entire filesystem, a Bounded MCP lives in your project&#x27;s <code>mcp/</code> directory. It is scoped strictly to the resources of that project—specific Docker containers, Redis keys, or S3 buckets. This follows the principle of least privilege, ensuring that the AI&#x27;s &quot;worldview&quot; is limited to the current scope.</p>
<h4 id="2-the-feedback-loop"><a aria-hidden="true" tabindex="-1" href="#2-the-feedback-loop"><span class="icon icon-link"></span></a>2. The feedback loop<!-- --> <a id="2.-The-feedback-loop" href="#2.-The-feedback-loop">#</a></h4>
<p>The pattern relies on the automated refresh cycle. By using a runtime like Deno with watch mode, we can create the reflexive feedback loop:</p>
<ul>
<li><strong>Watch Mode</strong>: The MCP server monitors its dependencies.</li>
<li><strong>Auto-Restart</strong>: When your or the LLM writes a new tool, the MCP server updates a timestamp in <code>.cursor/mcp.json</code>.</li>
<li><strong>IDE Handshake</strong>: Upon timestamp update, Cursor triggers a reload of the MCP server and the tools (note that you can avoid the &quot;double&quot; restart by switching to server-side events mode instead of stdio).</li>
</ul>
<h3 id="implementation"><a aria-hidden="true" tabindex="-1" href="#implementation"><span class="icon icon-link"></span></a>Implementation<!-- --> <a id="Implementation" href="#Implementation">#</a></h3>
<p>Here is an example using <code>fastmcp</code> and Deno. This setup allows the MCP server to reload and register new tools dynamically.</p>
<h4 id="cursormcpjson"><a aria-hidden="true" tabindex="-1" href="#cursormcpjson"><span class="icon icon-link"></span></a><code>.cursor/mcp.json</code> <a id="" href="#">#</a></h4>
<p>This file is the bridge between your project and the LLM editor. The timestamp is used to trigger a reload of the MCP server and the tools.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#fff;color:#24292e" tabindex="0" data-language="json" data-theme="github-light"><code data-language="json" data-theme="github-light" style="display:grid"><span data-line=""><span style="color:#24292E">{</span></span>
<span data-line=""><span style="color:#005CC5">  &quot;mcpServers&quot;</span><span style="color:#24292E">: {</span></span>
<span data-line=""><span style="color:#005CC5">    &quot;local-ops&quot;</span><span style="color:#24292E">: {</span></span>
<span data-line=""><span style="color:#005CC5">      &quot;command&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;deno&quot;</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#005CC5">      &quot;args&quot;</span><span style="color:#24292E">: [</span><span style="color:#032F62">&quot;run&quot;</span><span style="color:#24292E">, </span><span style="color:#032F62">&quot;-A&quot;</span><span style="color:#24292E">, </span><span style="color:#032F62">&quot;--watch&quot;</span><span style="color:#24292E">, </span><span style="color:#032F62">&quot;mcp/main.ts&quot;</span><span style="color:#24292E">]</span></span>
<span data-line=""><span style="color:#24292E">    }</span></span>
<span data-line=""><span style="color:#24292E">  },</span></span>
<span data-line=""><span style="color:#005CC5">  &quot;_build&quot;</span><span style="color:#24292E">: </span><span style="color:#005CC5">1735929600000</span></span>
<span data-line=""><span style="color:#24292E">}</span></span></code></pre></figure>
<h4 id="denojson"><a aria-hidden="true" tabindex="-1" href="#denojson"><span class="icon icon-link"></span></a><code>deno.json</code> <a id="" href="#">#</a></h4>
<p>This configuration file defines the dependencies and the task to run the server.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#fff;color:#24292e" tabindex="0" data-language="json" data-theme="github-light"><code data-language="json" data-theme="github-light" style="display:grid"><span data-line=""><span style="color:#24292E">{</span></span>
<span data-line=""><span style="color:#005CC5">  &quot;tasks&quot;</span><span style="color:#24292E">: {</span></span>
<span data-line=""><span style="color:#005CC5">    &quot;db:reset&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;echo &#x27;Resetting database...&#x27;&quot;</span></span>
<span data-line=""><span style="color:#24292E">  },</span></span>
<span data-line=""><span style="color:#005CC5">  &quot;imports&quot;</span><span style="color:#24292E">: {</span></span>
<span data-line=""><span style="color:#005CC5">    &quot;fastmcp&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;npm:fastmcp@3.26.7&quot;</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#005CC5">    &quot;zod&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;npm:zod@4.3.5&quot;</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#005CC5">    &quot;@std/path&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;jsr:@std/path@1.1.14&quot;</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#005CC5">    &quot;@/&quot;</span><span style="color:#24292E">: </span><span style="color:#032F62">&quot;./src/&quot;</span></span>
<span data-line=""><span style="color:#24292E">  }</span></span>
<span data-line=""><span style="color:#24292E">}</span></span></code></pre></figure>
<h4 id="mcpmaints"><a aria-hidden="true" tabindex="-1" href="#mcpmaints"><span class="icon icon-link"></span></a><code>mcp/main.ts</code> <a id="" href="#">#</a></h4>
<p>The entry point defines the server and its tools.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#fff;color:#24292e" tabindex="0" data-language="typescript" data-theme="github-light"><code data-language="typescript" data-theme="github-light" style="display:grid"><span data-line=""><span style="color:#D73A49">import</span><span style="color:#24292E"> { FastMCP } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;fastmcp&quot;</span><span style="color:#24292E">;</span></span>
<span data-line=""><span style="color:#D73A49">import</span><span style="color:#24292E"> { refreshCursorConfig } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;./utils.ts&quot;</span><span style="color:#24292E">;</span></span>
<span data-line=""><span style="color:#D73A49">import</span><span style="color:#005CC5"> *</span><span style="color:#D73A49"> as</span><span style="color:#24292E"> redis </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;./tools/redis.ts&quot;</span><span style="color:#24292E">;</span></span>
<span data-line=""><span style="color:#D73A49">import</span><span style="color:#005CC5"> *</span><span style="color:#D73A49"> as</span><span style="color:#24292E"> deno </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;./tools/deno.ts&quot;</span><span style="color:#24292E">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#6A737D">// create a server strictly scoped to this project (&quot;local-ops&quot;)</span></span>
<span data-line=""><span style="color:#D73A49">export</span><span style="color:#D73A49"> const</span><span style="color:#005CC5"> server</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> FastMCP</span><span style="color:#24292E">({</span></span>
<span data-line=""><span style="color:#24292E">  name: </span><span style="color:#032F62">&quot;local-ops&quot;</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#24292E">  version: </span><span style="color:#032F62">&quot;1.0.0&quot;</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#24292E">});</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#6A737D">// add tools directly using namespace references</span></span>
<span data-line=""><span style="color:#24292E">server.</span><span style="color:#6F42C1">addTool</span><span style="color:#24292E">(redis.getRedisKeyTool);</span></span>
<span data-line=""><span style="color:#24292E">server.</span><span style="color:#6F42C1">addTool</span><span style="color:#24292E">(redis.listRedisKeysTool);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#6A737D">// add project-specific Deno tasks</span></span>
<span data-line=""><span style="color:#24292E">deno.</span><span style="color:#6F42C1">addDenoTaskTool</span><span style="color:#24292E">(</span></span>
<span data-line=""><span style="color:#24292E">  server,</span></span>
<span data-line=""><span style="color:#032F62">  &quot;db:reset&quot;</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#032F62">  &quot;Reset the database (use as last resort only)&quot;</span></span>
<span data-line=""><span style="color:#24292E">);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">if</span><span style="color:#24292E"> (</span><span style="color:#D73A49">import</span><span style="color:#24292E">.</span><span style="color:#005CC5">meta</span><span style="color:#24292E">.main) {</span></span>
<span data-line=""><span style="color:#6A737D">  // 1. notify Cursor that config might have changed (refresh timestamp)</span></span>
<span data-line=""><span style="color:#6A737D">  // 2. start the server</span></span>
<span data-line=""><span style="color:#D73A49">  await</span><span style="color:#6F42C1"> refreshCursorConfig</span><span style="color:#24292E">();</span></span>
<span data-line=""><span style="color:#D73A49">  await</span><span style="color:#24292E"> server.</span><span style="color:#6F42C1">start</span><span style="color:#24292E">({ transportType: </span><span style="color:#032F62">&quot;stdio&quot;</span><span style="color:#6A737D"> /* or &quot;httpStream&quot; */</span><span style="color:#24292E"> });</span></span>
<span data-line=""><span style="color:#24292E">}</span></span></code></pre></figure>
<h4 id="mcptoolsdenots"><a aria-hidden="true" tabindex="-1" href="#mcptoolsdenots"><span class="icon icon-link"></span></a><code>mcp/tools/deno.ts</code> <a id="" href="#">#</a></h4>
<p>This helper wraps the complexity of invoking shell commands into a safe, typed MCP tool.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#fff;color:#24292e" tabindex="0" data-language="typescript" data-theme="github-light"><code data-language="typescript" data-theme="github-light" style="display:grid"><span data-line=""><span style="color:#D73A49">import</span><span style="color:#24292E"> { FastMCP } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;fastmcp&quot;</span><span style="color:#24292E">;</span></span>
<span data-line=""><span style="color:#D73A49">import</span><span style="color:#24292E"> { z } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;zod&quot;</span><span style="color:#24292E">;</span></span>
<span data-line=""><span style="color:#D73A49">import</span><span style="color:#24292E"> { runCommand } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;../utils.ts&quot;</span><span style="color:#24292E">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">export</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> addDenoTaskTool</span><span style="color:#24292E">(</span></span>
<span data-line=""><span style="color:#E36209">  server</span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> FastMCP</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#E36209">  taskName</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#E36209">  description</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span></span>
<span data-line=""><span style="color:#24292E">) {</span></span>
<span data-line=""><span style="color:#24292E">  server.</span><span style="color:#6F42C1">addTool</span><span style="color:#24292E">({</span></span>
<span data-line=""><span style="color:#24292E">    name: </span><span style="color:#032F62">`deno_task_${</span><span style="color:#24292E">taskName</span><span style="color:#032F62">.</span><span style="color:#6F42C1">replace</span><span style="color:#032F62">(</span><span style="color:#032F62">/:/</span><span style="color:#D73A49">g</span><span style="color:#032F62">, </span><span style="color:#032F62">&quot;_&quot;</span><span style="color:#032F62">)</span><span style="color:#032F62">}`</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#24292E">    description,</span></span>
<span data-line=""><span style="color:#24292E">    parameters: z.</span><span style="color:#6F42C1">object</span><span style="color:#24292E">({</span></span>
<span data-line=""><span style="color:#24292E">      args: z.</span><span style="color:#6F42C1">array</span><span style="color:#24292E">(z.</span><span style="color:#6F42C1">string</span><span style="color:#24292E">()).</span><span style="color:#6F42C1">optional</span><span style="color:#24292E">(),</span></span>
<span data-line=""><span style="color:#24292E">    }),</span></span>
<span data-line=""><span style="color:#6F42C1">    execute</span><span style="color:#24292E">: </span><span style="color:#D73A49">async</span><span style="color:#24292E"> (</span><span style="color:#E36209">params</span><span style="color:#D73A49">:</span><span style="color:#24292E"> { </span><span style="color:#E36209">args</span><span style="color:#D73A49">?:</span><span style="color:#005CC5"> string</span><span style="color:#24292E">[] }) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span data-line=""><span style="color:#D73A49">      const</span><span style="color:#24292E"> { </span><span style="color:#005CC5">args</span><span style="color:#24292E"> } </span><span style="color:#D73A49">=</span><span style="color:#24292E"> params;</span></span>
<span data-line=""><span style="color:#D73A49">      const</span><span style="color:#24292E"> { </span><span style="color:#005CC5">success</span><span style="color:#24292E">, </span><span style="color:#005CC5">output</span><span style="color:#24292E">, </span><span style="color:#005CC5">error</span><span style="color:#24292E"> } </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> await</span><span style="color:#6F42C1"> runCommand</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;deno&quot;</span><span style="color:#24292E">, [</span></span>
<span data-line=""><span style="color:#032F62">        &quot;task&quot;</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#24292E">        taskName,</span></span>
<span data-line=""><span style="color:#D73A49">        ...</span><span style="color:#24292E">(args </span><span style="color:#D73A49">||</span><span style="color:#24292E"> []),</span></span>
<span data-line=""><span style="color:#24292E">      ]);</span></span>
<span data-line=""><span style="color:#D73A49">      if</span><span style="color:#24292E"> (</span><span style="color:#D73A49">!</span><span style="color:#24292E">success) {</span></span>
<span data-line=""><span style="color:#D73A49">        throw</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> Error</span><span style="color:#24292E">(error </span><span style="color:#D73A49">||</span><span style="color:#032F62"> `Task &#x27;${</span><span style="color:#24292E">taskName</span><span style="color:#032F62">}&#x27; failed.`</span><span style="color:#24292E">);</span></span>
<span data-line=""><span style="color:#24292E">      }</span></span>
<span data-line=""><span style="color:#D73A49">      return</span><span style="color:#24292E"> output </span><span style="color:#D73A49">||</span><span style="color:#24292E"> error </span><span style="color:#D73A49">||</span><span style="color:#032F62"> &quot;Task completed successfully.&quot;</span><span style="color:#24292E">;</span></span>
<span data-line=""><span style="color:#24292E">    },</span></span>
<span data-line=""><span style="color:#24292E">  });</span></span>
<span data-line=""><span style="color:#24292E">}</span></span></code></pre></figure>
<h4 id="mcptoolsredists"><a aria-hidden="true" tabindex="-1" href="#mcptoolsredists"><span class="icon icon-link"></span></a><code>mcp/tools/redis.ts</code> <a id="" href="#">#</a></h4>
<p>This tool file exposes safe, read-only Redis operations to the LLM.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#fff;color:#24292e" tabindex="0" data-language="typescript" data-theme="github-light"><code data-language="typescript" data-theme="github-light" style="display:grid"><span data-line=""><span style="color:#D73A49">import</span><span style="color:#24292E"> { z } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;zod&quot;</span><span style="color:#24292E">;</span></span>
<span data-line=""><span style="color:#6A737D">// assumes you have a Redis client exported from your project (credentials are loaded the same way as your application code)</span></span>
<span data-line=""><span style="color:#D73A49">import</span><span style="color:#24292E"> { redis } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;@/lib/redis.ts&quot;</span><span style="color:#24292E">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">export</span><span style="color:#D73A49"> const</span><span style="color:#005CC5"> listRedisKeysTool</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> {</span></span>
<span data-line=""><span style="color:#24292E">  name: </span><span style="color:#032F62">&quot;list_redis_keys&quot;</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#24292E">  description: </span><span style="color:#032F62">&quot;List keys in Redis matching a pattern (read-only)&quot;</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#24292E">  parameters: z.</span><span style="color:#6F42C1">object</span><span style="color:#24292E">({</span></span>
<span data-line=""><span style="color:#24292E">    pattern: z</span></span>
<span data-line=""><span style="color:#24292E">      .</span><span style="color:#6F42C1">string</span><span style="color:#24292E">()</span></span>
<span data-line=""><span style="color:#24292E">      .</span><span style="color:#6F42C1">optional</span><span style="color:#24292E">()</span></span>
<span data-line=""><span style="color:#24292E">      .</span><span style="color:#6F42C1">default</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;*&quot;</span><span style="color:#24292E">)</span></span>
<span data-line=""><span style="color:#24292E">      .</span><span style="color:#6F42C1">describe</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;The pattern to match&quot;</span><span style="color:#24292E">),</span></span>
<span data-line=""><span style="color:#24292E">  }),</span></span>
<span data-line=""><span style="color:#6F42C1">  execute</span><span style="color:#24292E">: </span><span style="color:#D73A49">async</span><span style="color:#24292E"> ({ </span><span style="color:#E36209">pattern</span><span style="color:#24292E"> }</span><span style="color:#D73A49">:</span><span style="color:#24292E"> { </span><span style="color:#E36209">pattern</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> }) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span data-line=""><span style="color:#D73A49">    const</span><span style="color:#005CC5"> keys</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> await</span><span style="color:#24292E"> redis.</span><span style="color:#6F42C1">keys</span><span style="color:#24292E">(pattern);</span></span>
<span data-line=""><span style="color:#D73A49">    return</span><span style="color:#005CC5"> JSON</span><span style="color:#24292E">.</span><span style="color:#6F42C1">stringify</span><span style="color:#24292E">(keys);</span></span>
<span data-line=""><span style="color:#24292E">  },</span></span>
<span data-line=""><span style="color:#24292E">};</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">export</span><span style="color:#D73A49"> const</span><span style="color:#005CC5"> getRedisKeyTool</span><span style="color:#D73A49"> =</span><span style="color:#24292E"> {</span></span>
<span data-line=""><span style="color:#24292E">  name: </span><span style="color:#032F62">&quot;get_redis_key&quot;</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#24292E">  description: </span><span style="color:#032F62">&quot;Get the value of a key from Redis (read-only)&quot;</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#24292E">  parameters: z.</span><span style="color:#6F42C1">object</span><span style="color:#24292E">({</span></span>
<span data-line=""><span style="color:#24292E">    key: z.</span><span style="color:#6F42C1">string</span><span style="color:#24292E">().</span><span style="color:#6F42C1">describe</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;The key to retrieve&quot;</span><span style="color:#24292E">),</span></span>
<span data-line=""><span style="color:#24292E">  }),</span></span>
<span data-line=""><span style="color:#6F42C1">  execute</span><span style="color:#24292E">: </span><span style="color:#D73A49">async</span><span style="color:#24292E"> ({ </span><span style="color:#E36209">key</span><span style="color:#24292E"> }</span><span style="color:#D73A49">:</span><span style="color:#24292E"> { </span><span style="color:#E36209">key</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span><span style="color:#24292E"> }) </span><span style="color:#D73A49">=&gt;</span><span style="color:#24292E"> {</span></span>
<span data-line=""><span style="color:#D73A49">    const</span><span style="color:#005CC5"> value</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> await</span><span style="color:#24292E"> redis.</span><span style="color:#6F42C1">get</span><span style="color:#24292E">(key);</span></span>
<span data-line=""><span style="color:#D73A49">    return</span><span style="color:#24292E"> value </span><span style="color:#D73A49">??</span><span style="color:#032F62"> &quot;(nil)&quot;</span><span style="color:#24292E">;</span></span>
<span data-line=""><span style="color:#24292E">  },</span></span>
<span data-line=""><span style="color:#24292E">};</span></span></code></pre></figure>
<h4 id="mcputilsts"><a aria-hidden="true" tabindex="-1" href="#mcputilsts"><span class="icon icon-link"></span></a><code>mcp/utils.ts</code> <a id="" href="#">#</a></h4>
<p>This utility handles the handshake with Cursor, shell command execution, and enforces security governance.</p>
<figure data-rehype-pretty-code-figure=""><pre style="background-color:#fff;color:#24292e" tabindex="0" data-language="typescript" data-theme="github-light"><code data-language="typescript" data-theme="github-light" style="display:grid"><span data-line=""><span style="color:#D73A49">import</span><span style="color:#24292E"> { join } </span><span style="color:#D73A49">from</span><span style="color:#032F62"> &quot;@std/path&quot;</span><span style="color:#24292E">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#6A737D">// run a system command and return the output or error.</span></span>
<span data-line=""><span style="color:#D73A49">export</span><span style="color:#D73A49"> async</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> runCommand</span><span style="color:#24292E">(</span><span style="color:#E36209">cmd</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span><span style="color:#24292E">, </span><span style="color:#E36209">args</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> string</span><span style="color:#24292E">[]) {</span></span>
<span data-line=""><span style="color:#D73A49">  try</span><span style="color:#24292E"> {</span></span>
<span data-line=""><span style="color:#D73A49">    const</span><span style="color:#005CC5"> command</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> new</span><span style="color:#24292E"> Deno.</span><span style="color:#6F42C1">Command</span><span style="color:#24292E">(cmd, { args });</span></span>
<span data-line=""><span style="color:#D73A49">    const</span><span style="color:#24292E"> { </span><span style="color:#005CC5">stdout</span><span style="color:#24292E">, </span><span style="color:#005CC5">stderr</span><span style="color:#24292E">, </span><span style="color:#005CC5">success</span><span style="color:#24292E"> } </span><span style="color:#D73A49">=</span><span style="color:#D73A49"> await</span><span style="color:#24292E"> command.</span><span style="color:#6F42C1">output</span><span style="color:#24292E">();</span></span>
<span data-line=""><span style="color:#D73A49">    const</span><span style="color:#005CC5"> output</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> TextDecoder</span><span style="color:#24292E">().</span><span style="color:#6F42C1">decode</span><span style="color:#24292E">(stdout);</span></span>
<span data-line=""><span style="color:#D73A49">    const</span><span style="color:#005CC5"> errorOutput</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> new</span><span style="color:#6F42C1"> TextDecoder</span><span style="color:#24292E">().</span><span style="color:#6F42C1">decode</span><span style="color:#24292E">(stderr);</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">    return</span><span style="color:#24292E"> {</span></span>
<span data-line=""><span style="color:#24292E">      success,</span></span>
<span data-line=""><span style="color:#24292E">      output: output.</span><span style="color:#6F42C1">trim</span><span style="color:#24292E">(),</span></span>
<span data-line=""><span style="color:#24292E">      error: errorOutput.</span><span style="color:#6F42C1">trim</span><span style="color:#24292E">(),</span></span>
<span data-line=""><span style="color:#24292E">    };</span></span>
<span data-line=""><span style="color:#24292E">  } </span><span style="color:#D73A49">catch</span><span style="color:#24292E"> (</span><span style="color:#E36209">error</span><span style="color:#D73A49">:</span><span style="color:#005CC5"> unknown</span><span style="color:#24292E">) {</span></span>
<span data-line=""><span style="color:#D73A49">    return</span><span style="color:#24292E"> {</span></span>
<span data-line=""><span style="color:#24292E">      success: </span><span style="color:#005CC5">false</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#24292E">      output: </span><span style="color:#032F62">&quot;&quot;</span><span style="color:#24292E">,</span></span>
<span data-line=""><span style="color:#24292E">      error: error </span><span style="color:#D73A49">instanceof</span><span style="color:#6F42C1"> Error</span><span style="color:#D73A49"> ?</span><span style="color:#24292E"> error.message </span><span style="color:#D73A49">:</span><span style="color:#6F42C1"> String</span><span style="color:#24292E">(error),</span></span>
<span data-line=""><span style="color:#24292E">    };</span></span>
<span data-line=""><span style="color:#24292E">  }</span></span>
<span data-line=""><span style="color:#24292E">}</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">export</span><span style="color:#D73A49"> async</span><span style="color:#D73A49"> function</span><span style="color:#6F42C1"> refreshCursorConfig</span><span style="color:#24292E">() {</span></span>
<span data-line=""><span style="color:#D73A49">  const</span><span style="color:#005CC5"> mcpConfigPath</span><span style="color:#D73A49"> =</span><span style="color:#032F62"> &quot;./.cursor/mcp.json&quot;</span><span style="color:#24292E">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">  try</span><span style="color:#24292E"> {</span></span>
<span data-line=""><span style="color:#D73A49">    const</span><span style="color:#005CC5"> content</span><span style="color:#D73A49"> =</span><span style="color:#D73A49"> await</span><span style="color:#24292E"> Deno.</span><span style="color:#6F42C1">readTextFile</span><span style="color:#24292E">(mcpConfigPath);</span></span>
<span data-line=""><span style="color:#D73A49">    const</span><span style="color:#005CC5"> json</span><span style="color:#D73A49"> =</span><span style="color:#005CC5"> JSON</span><span style="color:#24292E">.</span><span style="color:#6F42C1">parse</span><span style="color:#24292E">(content);</span></span>
<span data-line=""><span style="color:#24292E">    json._build </span><span style="color:#D73A49">=</span><span style="color:#24292E"> Date.</span><span style="color:#6F42C1">now</span><span style="color:#24292E">();</span></span>
<span data-line=""><span style="color:#D73A49">    await</span><span style="color:#24292E"> Deno.</span><span style="color:#6F42C1">writeTextFile</span><span style="color:#24292E">(mcpConfigPath, </span><span style="color:#005CC5">JSON</span><span style="color:#24292E">.</span><span style="color:#6F42C1">stringify</span><span style="color:#24292E">(json, </span><span style="color:#005CC5">null</span><span style="color:#24292E">, </span><span style="color:#005CC5">2</span><span style="color:#24292E">));</span></span>
<span data-line=""><span style="color:#24292E">  } </span><span style="color:#D73A49">catch</span><span style="color:#24292E"> (e) {</span></span>
<span data-line=""><span style="color:#24292E">    console.</span><span style="color:#6F42C1">error</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;Failed to update .cursor/mcp.json&quot;</span><span style="color:#24292E">, e);</span></span>
<span data-line=""><span style="color:#24292E">  }</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">  const</span><span style="color:#005CC5"> rulePath</span><span style="color:#D73A49"> =</span><span style="color:#032F62"> &quot;./.cursor/rules/mcp-governance.mdc&quot;</span><span style="color:#24292E">;</span></span>
<span data-line=""><span style="color:#D73A49">  const</span><span style="color:#005CC5"> ruleContent</span><span style="color:#D73A49"> =</span><span style="color:#032F62"> `---</span></span>
<span data-line=""><span style="color:#032F62">description: MCP Governance Policy</span></span>
<span data-line=""><span style="color:#032F62">globs: mcp/**/*.ts</span></span>
<span data-line=""><span style="color:#032F62">---</span></span>
<span data-line=""><span style="color:#032F62"># MCP Tool Governance</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#032F62">Any code changes or new files in the </span><span style="color:#005CC5">\`</span><span style="color:#032F62">mcp/</span><span style="color:#005CC5">\`</span><span style="color:#032F62"> directory represent a capability expansion for the agent.</span></span>
<span data-line=""><span style="color:#032F62">**Requirement:** You must ask for explicit human confirmation before using a newly created or modified tool for the first time.</span></span>
<span data-line=""><span style="color:#032F62">**Invitation:** You are invited to add new tools if you identify frequent access patterns for which a tool is currently missing.</span></span>
<span data-line=""><span style="color:#032F62">`</span><span style="color:#24292E">;</span></span>
<span data-line=""> </span>
<span data-line=""><span style="color:#D73A49">  await</span><span style="color:#24292E"> Deno.</span><span style="color:#6F42C1">mkdir</span><span style="color:#24292E">(</span><span style="color:#032F62">&quot;./.cursor/rules&quot;</span><span style="color:#24292E">, { recursive: </span><span style="color:#005CC5">true</span><span style="color:#24292E"> });</span></span>
<span data-line=""><span style="color:#D73A49">  await</span><span style="color:#24292E"> Deno.</span><span style="color:#6F42C1">writeTextFile</span><span style="color:#24292E">(rulePath, ruleContent);</span></span>
<span data-line=""><span style="color:#24292E">}</span></span></code></pre></figure>
<h4 id="why-this-matters"><a aria-hidden="true" tabindex="-1" href="#why-this-matters"><span class="icon icon-link"></span></a>Why this matters<!-- --> <a id="Why-this-matters" href="#Why-this-matters">#</a></h4>
<h4 id="unified-execution-interface"><a aria-hidden="true" tabindex="-1" href="#unified-execution-interface"><span class="icon icon-link"></span></a>Unified execution interface</h4>
<p>Deno tasks (or npm scripts) standardize entry points for both developers and agents. Instead of relying on the LLM to construct shell commands with fragile flags, we expose deterministic tasks (e.g., <code>deno task db:reset</code>). This reduces the &quot;context switching&quot; overhead for the developer and eliminates parameter hallucination for the agent.</p>
<h4 id="ingredients-for-the-recipe-of-success"><a aria-hidden="true" tabindex="-1" href="#ingredients-for-the-recipe-of-success"><span class="icon icon-link"></span></a>Ingredients for the recipe of success</h4>
<p>LLMs are fundamentally prediction engines. When you ask an LLM to interact with a non-standard codebase using only raw shell access, you are asking it to predict an output in an inconsistent environment. The error rate is typically high. The B-MCP pattern provides a structured, constrained environment where the inputs and outputs are known. Once established, the LLM&#x27;s ability to forecast the correct solution becomes precise rather than a guess against an unknown runtime.</p>
<h4 id="capabilities-as-versioned-code"><a aria-hidden="true" tabindex="-1" href="#capabilities-as-versioned-code"><span class="icon icon-link"></span></a>Capabilities as versioned code</h4>
<p>Agent tools are standard code files. Debugging an agent&#x27;s inability to parse a log becomes a standard code fix—adding a log or adjusting a regex—rather than an exercise in prompt engineering. This treats agent capabilities as software dependencies that are versioned, reviewed, and tested alongside the application logic. This also enables utilizing the agent to improve the codebase and reuse code from the project itself.</p>
<h4 id="security-through-existing-primitives"><a aria-hidden="true" tabindex="-1" href="#security-through-existing-primitives"><span class="icon icon-link"></span></a>Security through existing primitives</h4>
<p>By importing application logic directly (e.g., <code>import { redis } from &quot;@/lib/redis.ts&quot;</code>), the MCP server inherits existing environment configurations and secret management. There is no need to duplicate credentials, mitigate data leakage risks, or configure a generic database tool. This also allows for fine-grained access control: instead of a blanket &quot;Database Tool,&quot; you expose specific, read-only functions (e.g., <code>getRedisKey</code>), enforcing the principle of least privilege by design.</p>
<h3 id="conclusion"><a aria-hidden="true" tabindex="-1" href="#conclusion"><span class="icon icon-link"></span></a>Conclusion<!-- --> <a id="Conclusion" href="#Conclusion">#</a></h3>
<p>The Bounded MCP pattern moves us from chatting with the LLM and repetitive prompting to capability-as-code. By providing a dedicated, self-improving interface for our code, we allow the LLM to function autonomously without losing the oversight and security required. This approach moves the burden of context from the prompt to the repository, offering a robust way to integrate agents into your workflows.</p>
<hr/>
<section data-footnotes="true" class="footnotes"><h3 class="sr-only" id="footnote-label"><a aria-hidden="true" tabindex="-1" href="#footnote-label"><span class="icon icon-link"></span></a>Footnotes<!-- --> <a id="Footnotes" href="#Footnotes">#</a></h3>
<ol>
<li id="user-content-fn-1">
<p>Claude Opus 4.5 and Gemini 3 Pro broken <a href="https://www.swebench.com/">new records</a> as of December 2025. <a href="#user-content-fnref-1" data-footnote-backref="" aria-label="Back to reference 1" class="data-footnote-backref">↩</a></p>
</li>
<li id="user-content-fn-2">
<p><a href="https://dtsbourg.me/en/articles/mcp-explained-again">MCP Explained… Again</a> by Dylan Bourgeois. <a href="#user-content-fnref-2" data-footnote-backref="" aria-label="Back to reference 2" class="data-footnote-backref">↩</a></p>
</li>
</ol>
</section></article><div class="flex items-center gap-2 flex-col"><p>Get an email for new updates, nothing more!</p><form class="border-zinc-500 border rounded-md overflow-hidden grid grid-cols-5"><input type="email" required="" placeholder="Your email" class="px-2 py-1 outline-none col-span-3" value=""/><input type="submit" class="px-2 py-1 cursor-pointer bg-zinc-500 text-white rounded-l-md hover:bg-zinc-700 transition duration-200 ease-in-out col-span-2" value="Subscribe"/></form></div><div class="flex justify-between text-sm"><div class="group"><a class="group-hover:no-underline text-zinc-500" href="/">← <span class="group-hover:underline text-zinc-500">Back</span></a></div><div><a href="https://github.com/zifeo/zifeo/edit/main/content/articles/260104-bounded-model-context-protocol.mdx" class="text-zinc-500">Edit/improve on Github</a></div></div></main><div class="container my-16"><div class="flex flex-col space-y-4"><nav class="flex gap-1 text-xs uppercase"><ul><li><a href="https://linkedin.com/in/zifeo" title="Teo&#x27;s LinkedIn">LinkedIn</a></li></ul><ul><li><a href="https://github.com/zifeo" title="Teo&#x27;s GitHub">GitHub</a></li></ul><ul><li><a href="https://twitter.com/zifeo" title="Teo&#x27;s Twitter">Twitter</a></li></ul><ul><li><a href="https://dev.to/zifeo" title="Teo&#x27;s DevTo">DevTo</a></li></ul></nav><p class="leading-5 text-sm">© Teo Stocco. Texts and images are available under the<!-- --> <a href="https://creativecommons.org/licenses/by-sa/4.0/" title="Attribution-ShareAlike 4.0 International license" class="hover:text-black hover:underline underline-offset-4 decoration-2 decoration-zinc-800">Creative Commons Attribution-ShareAlike 4.0 license</a>, unless stated otherwise. Website<!-- -->&#x27;<!-- -->s<!-- --> <a href="https://github.com/zifeo/zifeo" title="Website source code on GitHub" class="hover:text-black hover:underline underline-offset-4 decoration-2 decoration-zinc-800">source code</a> <!-- -->is available under the<!-- --> <a href="https://github.com/zifeo/zifeo/blob/main/LICENSE.md" title="Mozilla Public License 2.0" class="hover:text-black hover:underline underline-offset-4 decoration-2 decoration-zinc-800">Mozilla Public License 2.0</a>.</p></div></div><script src="/_next/static/chunks/webpack-7faedcd12e67e0b9.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/ee40bb094c99a29a-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/css/677317192a9a4da0.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"3:I[5921,[],\"\"]\n6:I[3547,[\"547\",\"static/chunks/547-e9d57b52519ab45b.js\",\"772\",\"static/chunks/app/articles/%5Barticle%5D/layout-e2a8ba54026a12cf.js\"],\"\"]\n7:I[9986,[],\"\"]\n9:I[3582,[],\"\"]\na:I[5822,[\"547\",\"static/chunks/547-e9d57b52519ab45b.js\",\"772\",\"static/chunks/app/articles/%5Barticle%5D/layout-e2a8ba54026a12cf.js\"],\"Newsletter\"]\nb:I[2920,[\"547\",\"static/chunks/547-e9d57b52519ab45b.js\",\"772\",\"static/chunks/app/articles/%5Barticle%5D/layout-e2a8ba54026a12cf.js\"],\"Giscus\"]\nc:I[133,[\"912\",\"static/chunks/912-4ac0b7ead9120b94.js\",\"355\",\"static/chunks/app/articles/%5Barticle%5D/page-82c6a766fca69df4.js\"],\"ExportedImage\"]\ne:I[3765,[],\"\"]\n8:[\"article\",\"260104-bounded-model-context-protocol\",\"d\"]\nf:[]\n"])</script><script>self.__next_f.push([1,"0:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/677317192a9a4da0.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]],[\"$\",\"$L3\",null,{\"buildId\":\"QcILnu5yzkBermVky3qkp\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/articles/260104-bounded-model-context-protocol\",\"initialTree\":[\"\",{\"children\":[\"articles\",{\"children\":[[\"article\",\"260104-bounded-model-context-protocol\",\"d\"],{\"children\":[\"__PAGE__?{\\\"article\\\":\\\"260104-bounded-model-context-protocol\\\"}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[\"articles\",{\"children\":[[\"article\",\"260104-bounded-model-context-protocol\",\"d\"],{\"children\":[\"__PAGE__\",{},[[\"$L4\",\"$L5\"],null],null]},[[\"$\",\"main\",null,{\"className\":\"container my-16 flex flex-col space-y-8\",\"children\":[[\"$\",\"div\",null,{\"className\":\"flex justify-between text-sm\",\"children\":[[\"$\",\"div\",null,{\"className\":\"group\",\"children\":[\"$\",\"$L6\",null,{\"href\":\"/\",\"className\":\"group-hover:no-underline text-zinc-500\",\"children\":[\"← \",[\"$\",\"span\",null,{\"className\":\"group-hover:underline text-zinc-500\",\"children\":\"Back\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/zifeo/zifeo/edit/main/content/articles/260104-bounded-model-context-protocol.mdx\",\"className\":\"text-zinc-500\",\"children\":\"Edit/improve on Github\"}]}]]}],[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"articles\",\"children\",\"$8\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],[\"$\",\"$La\",null,{}],[\"$\",\"div\",null,{\"className\":\"flex justify-between text-sm\",\"children\":[[\"$\",\"div\",null,{\"className\":\"group\",\"children\":[\"$\",\"$L6\",null,{\"href\":\"/\",\"className\":\"group-hover:no-underline text-zinc-500\",\"children\":[\"← \",[\"$\",\"span\",null,{\"className\":\"group-hover:underline text-zinc-500\",\"children\":\"Back\"}]]}]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/zifeo/zifeo/edit/main/content/articles/260104-bounded-model-context-protocol.mdx\",\"className\":\"text-zinc-500\",\"children\":\"Edit/improve on Github\"}]}]]}],[\"$\",\"$Lb\",null,{}]]}],null],null]},[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"articles\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_eef148 bg-white \",\"children\":[[\"$\",\"div\",null,{\"className\":\"container my-16\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex gap-4 items-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"grow-0\",\"children\":[\"$\",\"$L6\",null,{\"href\":\"/\",\"children\":[\"$\",\"$Lc\",null,{\"src\":\"/images/teo.jpg\",\"alt\":\"Teo's picture\",\"width\":100,\"height\":100,\"className\":\"rounded-full\"}]}]}],[\"$\",\"div\",null,{\"className\":\"grow flex flex-col space-y-1\",\"children\":[[\"$\",\"$L6\",null,{\"href\":\"/\",\"children\":[\"$\",\"h1\",null,{\"children\":\"Teo Stocco\"}]}],[\"$\",\"p\",null,{\"children\":\"Fractional Chief of Technology at KiWi and Exponent\"}],[\"$\",\"nav\",null,{\"className\":\"flex gap-1 text-xs uppercase\",\"children\":[[\"$\",\"ul\",\"https://linkedin.com/in/zifeo\",{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://linkedin.com/in/zifeo\",\"title\":\"Teo's LinkedIn\",\"children\":\"LinkedIn\"}]}]}],[\"$\",\"ul\",\"https://github.com/zifeo\",{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/zifeo\",\"title\":\"Teo's GitHub\",\"children\":\"GitHub\"}]}]}],[\"$\",\"ul\",\"https://twitter.com/zifeo\",{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://twitter.com/zifeo\",\"title\":\"Teo's Twitter\",\"children\":\"Twitter\"}]}]}],[\"$\",\"ul\",\"https://dev.to/zifeo\",{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://dev.to/zifeo\",\"title\":\"Teo's DevTo\",\"children\":\"DevTo\"}]}]}]]}]]}]]}]}],[\"$\",\"$L7\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L9\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[\"$\",\"main\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"container my-16 flex flex-col space-y-4\",\"children\":[[\"$\",\"h2\",null,{\"children\":\"Not Found\"}],[\"$\",\"p\",null,{\"children\":[\"Return to the \",[\"$\",\"$L6\",null,{\"href\":\"/\",\"children\":\"homepage\"}],\".\"]}]]}]}],\"notFoundStyles\":[],\"styles\":null}],[\"$\",\"div\",null,{\"className\":\"container my-16\",\"children\":[\"$\",\"div\",null,{\"className\":\"flex flex-col space-y-4\",\"children\":[[\"$\",\"nav\",null,{\"className\":\"flex gap-1 text-xs uppercase\",\"children\":[[\"$\",\"ul\",\"https://linkedin.com/in/zifeo\",{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://linkedin.com/in/zifeo\",\"title\":\"Teo's LinkedIn\",\"children\":\"LinkedIn\"}]}]}],[\"$\",\"ul\",\"https://github.com/zifeo\",{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/zifeo\",\"title\":\"Teo's GitHub\",\"children\":\"GitHub\"}]}]}],[\"$\",\"ul\",\"https://twitter.com/zifeo\",{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://twitter.com/zifeo\",\"title\":\"Teo's Twitter\",\"children\":\"Twitter\"}]}]}],[\"$\",\"ul\",\"https://dev.to/zifeo\",{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://dev.to/zifeo\",\"title\":\"Teo's DevTo\",\"children\":\"DevTo\"}]}]}]]}],[\"$\",\"p\",null,{\"className\":\"leading-5 text-sm\",\"children\":[\"© Teo Stocco. Texts and images are available under the\",\" \",[\"$\",\"a\",null,{\"href\":\"https://creativecommons.org/licenses/by-sa/4.0/\",\"title\":\"Attribution-ShareAlike 4.0 International license\",\"className\":\"hover:text-black hover:underline underline-offset-4 decoration-2 decoration-zinc-800\",\"children\":\"Creative Commons Attribution-ShareAlike 4.0 license\"}],\", unless stated otherwise. Website\",\"'\",\"s\",\" \",[\"$\",\"a\",null,{\"href\":\"https://github.com/zifeo/zifeo\",\"title\":\"Website source code on GitHub\",\"className\":\"hover:text-black hover:underline underline-offset-4 decoration-2 decoration-zinc-800\",\"children\":\"source code\"}],\" \",\"is available under the\",\" \",[\"$\",\"a\",null,{\"href\":\"https://github.com/zifeo/zifeo/blob/main/LICENSE.md\",\"title\":\"Mozilla Public License 2.0\",\"className\":\"hover:text-black hover:underline underline-offset-4 decoration-2 decoration-zinc-800\",\"children\":\"Mozilla Public License 2.0\"}],\".\"]}]]}]}]]}]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[false,\"$Ld\"],\"globalErrorComponent\":\"$e\",\"missingSlots\":\"$Wf\"}]]\n"])</script><script>self.__next_f.push([1,"5:[\"$\",\"article\",null,{\"className\":\"flex flex-col space-y-4\",\"children\":[[\"$\",\"h2\",null,{\"id\":\"bounded-mcps-minimizing-noise-maximizing-agency\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#bounded-mcps-minimizing-noise-maximizing-agency\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Bounded MCPs: minimizing noise, maximizing agency\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"While Large Language Models (LLMs) are increasingly capable of writing code\",[\"$\",\"sup\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#user-content-fn-1\",\"id\":\"user-content-fnref-1\",\"data-footnote-ref\":true,\"aria-describedby\":\"footnote-label\",\"children\":\"1\"}]}],\", they often struggle with the \\\"last mile\\\" of execution. Setting your LLM agent in auto-run on your terminal is a security and privacy risk, while giving it no access severely limits its utility.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"The \",[\"$\",\"strong\",null,{\"children\":\"Bounded MCP pattern\"}],\" solves this by treating the Model Context Protocol not as a global utility, but as a project-specific agentic interface. This aligns with the vision of MCP as a \\\"USB-C for AI\\\"\",[\"$\",\"sup\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#user-content-fn-2\",\"id\":\"user-content-fnref-2\",\"data-footnote-ref\":true,\"aria-describedby\":\"footnote-label\",\"children\":\"2\"}]}],\", but scoped strictly to your project's context. It creates a secure, version-controlled digital twin of your repository's capabilities.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"b-mcp-architecture\",\"children\":[[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#b-mcp-architecture\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"B-MCP architecture\"],\" \",[\"$\",\"a\",null,{\"id\":\"B-MCP-architecture\",\"href\":\"#B-MCP-architecture\",\"children\":\"#\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The core concept is a self-reloading loop that allows the LLM to modify its own toolset without the developer ever leaving the flow state. This creates a reflexive system that observes and modifies its own boundaries.\"}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"1-the-project-scoped-server\",\"children\":[[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#1-the-project-scoped-server\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"1. The project-scoped server\"],\" \",[\"$\",\"a\",null,{\"id\":\"1.-The-project-scoped-server\",\"href\":\"#1.-The-project-scoped-server\",\"children\":\"#\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Unlike a global MCP server that has access to your entire filesystem, a Bounded MCP lives in your project's \",[\"$\",\"code\",null,{\"children\":\"mcp/\"}],\" directory. It is scoped strictly to the resources of that project—specific Docker containers, Redis keys, or S3 buckets. This follows the principle of least privilege, ensuring that the AI's \\\"worldview\\\" is limited to the current scope.\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"2-the-feedback-loop\",\"children\":[[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#2-the-feedback-loop\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"2. The feedback loop\"],\" \",[\"$\",\"a\",null,{\"id\":\"2.-The-feedback-loop\",\"href\":\"#2.-The-feedback-loop\",\"children\":\"#\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The pattern relies on the automated refresh cycle. By using a runtime like Deno with watch mode, we can create the reflexive feedback loop:\"}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Watch Mode\"}],\": The MCP server monitors its dependencies.\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Auto-Restart\"}],\": When your or the LLM writes a new tool, the MCP server updates a timestamp in \",[\"$\",\"code\",null,{\"children\":\".cursor/mcp.json\"}],\".\"]}],\"\\n\",[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"IDE Handshake\"}],\": Upon timestamp update, Cursor triggers a reload of the MCP server and the tools (note that you can avoid the \\\"double\\\" restart by switching to server-side events mode instead of stdio).\"]}],\"\\n\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"implementation\",\"children\":[[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#implementation\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Implementation\"],\" \",[\"$\",\"a\",null,{\"id\":\"Implementation\",\"href\":\"#Implementation\",\"children\":\"#\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Here is an example using \",[\"$\",\"code\",null,{\"children\":\"fastmcp\"}],\" and Deno. This setup allows the MCP server to reload and register new tools dynamically.\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"cursormcpjson\",\"children\":[[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#cursormcpjson\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],[\"$\",\"code\",null,{\"children\":\".cursor/mcp.json\"}]],\" \",[\"$\",\"a\",null,{\"id\":\"\",\"href\":\"#\",\"children\":\"#\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This file is the bridge between your project and the LLM editor. The timestamp is used to trigger a reload of the MCP server and the tools.\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#fff\",\"color\":\"#24292e\"},\"tabIndex\":\"0\",\"data-language\":\"json\",\"data-theme\":\"github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"json\",\"data-theme\":\"github-light\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"  \\\"mcpServers\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\": {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"    \\\"local-ops\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\": {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"      \\\"command\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"deno\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"      \\\"args\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\": [\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"run\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"-A\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"--watch\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"mcp/main.ts\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"]\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"    }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  },\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"  \\\"_build\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"1735929600000\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"denojson\",\"children\":[[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#denojson\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],[\"$\",\"code\",null,{\"children\":\"deno.json\"}]],\" \",[\"$\",\"a\",null,{\"id\":\"\",\"href\":\"#\",\"children\":\"#\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This configuration file defines the dependencies and the task to run the server.\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#fff\",\"color\":\"#24292e\"},\"tabIndex\":\"0\",\"data-language\":\"json\",\"data-theme\":\"github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"json\",\"data-theme\":\"github-light\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"{\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"  \\\"tasks\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\": {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"    \\\"db:reset\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"echo 'Resetting database...'\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  },\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"  \\\"imports\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\": {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"    \\\"fastmcp\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"npm:fastmcp@3.26.7\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"    \\\"zod\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"npm:zod@4.3.5\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"    \\\"@std/path\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"jsr:@std/path@1.1.14\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"    \\\"@/\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"./src/\\\"\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"mcpmaints\",\"children\":[[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#mcpmaints\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],[\"$\",\"code\",null,{\"children\":\"mcp/main.ts\"}]],\" \",[\"$\",\"a\",null,{\"id\":\"\",\"href\":\"#\",\"children\":\"#\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The entry point defines the server and its tools.\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#fff\",\"color\":\"#24292e\"},\"tabIndex\":\"0\",\"data-language\":\"typescript\",\"data-theme\":\"github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"typescript\",\"data-theme\":\"github-light\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"import\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" { FastMCP } \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"from\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" \\\"fastmcp\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"import\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" { refreshCursorConfig } \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"from\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" \\\"./utils.ts\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"import\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" *\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" as\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" redis \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"from\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" \\\"./tools/redis.ts\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"import\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" *\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" as\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" deno \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"from\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" \\\"./tools/deno.ts\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\"},\"children\":\"// create a server strictly scoped to this project (\\\"local-ops\\\")\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"export\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" server\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\" FastMCP\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"({\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  name: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"local-ops\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  version: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"1.0.0\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"});\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\"},\"children\":\"// add tools directly using namespace references\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"server.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"addTool\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(redis.getRedisKeyTool);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"server.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"addTool\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(redis.listRedisKeysTool);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\"},\"children\":\"// add project-specific Deno tasks\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"deno.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"addDenoTaskTool\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  server,\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"  \\\"db:reset\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"  \\\"Reset the database (use as last resort only)\\\"\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\");\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"if\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"import\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"meta\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\".main) {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\"},\"children\":\"  // 1. notify Cursor that config might have changed (refresh timestamp)\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\"},\"children\":\"  // 2. start the server\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"  await\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\" refreshCursorConfig\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"  await\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" server.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"start\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"({ transportType: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"stdio\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\"},\"children\":\" /* or \\\"httpStream\\\" */\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" });\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"mcptoolsdenots\",\"children\":[[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#mcptoolsdenots\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],[\"$\",\"code\",null,{\"children\":\"mcp/tools/deno.ts\"}]],\" \",[\"$\",\"a\",null,{\"id\":\"\",\"href\":\"#\",\"children\":\"#\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This helper wraps the complexity of invoking shell commands into a safe, typed MCP tool.\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#fff\",\"color\":\"#24292e\"},\"tabIndex\":\"0\",\"data-language\":\"typescript\",\"data-theme\":\"github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"typescript\",\"data-theme\":\"github-light\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"import\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" { FastMCP } \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"from\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" \\\"fastmcp\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"import\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" { z } \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"from\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" \\\"zod\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"import\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" { runCommand } \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"from\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" \\\"../utils.ts\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"export\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\" addDenoTaskTool\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E36209\"},\"children\":\"  server\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\" FastMCP\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E36209\"},\"children\":\"  taskName\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" string\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#E36209\"},\"children\":\"  description\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" string\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\") {\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  server.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"addTool\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"({\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"    name: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"`deno_task_${\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"taskName\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"replace\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"/:/\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"g\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"_\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\")\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"}`\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"    description,\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"    parameters: z.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"object\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"({\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"      args: z.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"array\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(z.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"string\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"()).\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"optional\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"    }),\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"    execute\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"async\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E36209\"},\"children\":\"params\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" { \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E36209\"},\"children\":\"args\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"?:\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" string\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"[] }) \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"      const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" { \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"args\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" } \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" params;\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"      const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" { \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"success\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"output\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"error\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" } \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" await\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\" runCommand\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"deno\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", [\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"        \\\"task\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"        taskName,\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"        ...\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(args \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"||\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" []),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"      ]);\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"      if\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"!\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"success) {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"        throw\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\" Error\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(error \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"||\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" `Task '${\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"taskName\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"}' failed.`\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\");\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"      }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"      return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" output \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"||\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" error \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"||\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" \\\"Task completed successfully.\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"    },\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  });\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"mcptoolsredists\",\"children\":[[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#mcptoolsredists\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],[\"$\",\"code\",null,{\"children\":\"mcp/tools/redis.ts\"}]],\" \",[\"$\",\"a\",null,{\"id\":\"\",\"href\":\"#\",\"children\":\"#\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This tool file exposes safe, read-only Redis operations to the LLM.\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#fff\",\"color\":\"#24292e\"},\"tabIndex\":\"0\",\"data-language\":\"typescript\",\"data-theme\":\"github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"typescript\",\"data-theme\":\"github-light\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"import\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" { z } \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"from\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" \\\"zod\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\"},\"children\":\"// assumes you have a Redis client exported from your project (credentials are loaded the same way as your application code)\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"import\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" { redis } \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"from\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" \\\"@/lib/redis.ts\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"export\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" listRedisKeysTool\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  name: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"list_redis_keys\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  description: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"List keys in Redis matching a pattern (read-only)\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  parameters: z.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"object\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"({\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"    pattern: z\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"      .\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"string\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"      .\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"optional\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"()\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"      .\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"default\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"*\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\")\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"      .\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"describe\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"The pattern to match\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  }),\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"  execute\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"async\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" ({ \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E36209\"},\"children\":\"pattern\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" }\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" { \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E36209\"},\"children\":\"pattern\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" string\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" }) \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"    const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" keys\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" await\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" redis.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"keys\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(pattern);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"    return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" JSON\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"stringify\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(keys);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  },\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"};\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"export\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" getRedisKeyTool\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  name: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"get_redis_key\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  description: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"Get the value of a key from Redis (read-only)\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  parameters: z.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"object\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"({\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"    key: z.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"string\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"().\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"describe\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"The key to retrieve\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  }),\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"  execute\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\": \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"async\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" ({ \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E36209\"},\"children\":\"key\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" }\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" { \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E36209\"},\"children\":\"key\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" string\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" }) \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"=\u003e\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"    const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" value\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" await\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" redis.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"get\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(key);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"    return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" value \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"??\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" \\\"(nil)\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  },\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"};\"}]}]]}]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"mcputilsts\",\"children\":[[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#mcputilsts\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],[\"$\",\"code\",null,{\"children\":\"mcp/utils.ts\"}]],\" \",[\"$\",\"a\",null,{\"id\":\"\",\"href\":\"#\",\"children\":\"#\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This utility handles the handshake with Cursor, shell command execution, and enforces security governance.\"}],\"\\n\",[\"$\",\"figure\",null,{\"data-rehype-pretty-code-figure\":\"\",\"children\":[\"$\",\"pre\",null,{\"style\":{\"backgroundColor\":\"#fff\",\"color\":\"#24292e\"},\"tabIndex\":\"0\",\"data-language\":\"typescript\",\"data-theme\":\"github-light\",\"children\":[\"$\",\"code\",null,{\"data-language\":\"typescript\",\"data-theme\":\"github-light\",\"style\":{\"display\":\"grid\"},\"children\":[[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"import\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" { join } \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"from\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" \\\"@std/path\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#6A737D\"},\"children\":\"// run a system command and return the output or error.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"export\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" async\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\" runCommand\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E36209\"},\"children\":\"cmd\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" string\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E36209\"},\"children\":\"args\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" string\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"[]) {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"  try\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"    const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" command\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" Deno.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"Command\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(cmd, { args });\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"    const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" { \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"stdout\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"stderr\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"success\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" } \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" await\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" command.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"output\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"    const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" output\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\" TextDecoder\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"().\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"decode\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(stdout);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"    const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" errorOutput\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" new\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\" TextDecoder\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"().\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"decode\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(stderr);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"    return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"      success,\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"      output: output.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"trim\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"      error: errorOutput.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"trim\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"    };\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  } \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"catch\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" (\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#E36209\"},\"children\":\"error\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" unknown\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\") {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"    return\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"      success: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"false\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"      output: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\",\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"      error: error \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"instanceof\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\" Error\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" ?\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" error.message \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\":\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\" String\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(error),\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"    };\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"}\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"export\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" async\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" function\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\" refreshCursorConfig\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"() {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"  const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" mcpConfigPath\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" \\\"./.cursor/mcp.json\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"  try\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"    const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" content\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" await\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" Deno.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"readTextFile\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(mcpConfigPath);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"    const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" json\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" JSON\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"parse\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(content);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"    json._build \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"=\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" Date.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"now\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"();\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"    await\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" Deno.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"writeTextFile\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(mcpConfigPath, \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"JSON\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\".\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"stringify\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(json, \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"null\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"2\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"));\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  } \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"catch\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" (e) {\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"    console.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"error\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"Failed to update .cursor/mcp.json\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", e);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"  }\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"  const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" rulePath\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" \\\"./.cursor/rules/mcp-governance.mdc\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"  const\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\" ruleContent\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\" =\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" `---\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"description: MCP Governance Policy\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"globs: mcp/**/*.ts\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"---\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"# MCP Tool Governance\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"Any code changes or new files in the \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"\\\\`\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"mcp/\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"\\\\`\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\" directory represent a capability expansion for the agent.\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"**Requirement:** You must ask for explicit human confirmation before using a newly created or modified tool for the first time.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"**Invitation:** You are invited to add new tools if you identify frequent access patterns for which a tool is currently missing.\"}]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"`\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\";\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":\" \"}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"  await\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" Deno.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"mkdir\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#032F62\"},\"children\":\"\\\"./.cursor/rules\\\"\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\", { recursive: \"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#005CC5\"},\"children\":\"true\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" });\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[[\"$\",\"span\",null,{\"style\":{\"color\":\"#D73A49\"},\"children\":\"  await\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\" Deno.\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#6F42C1\"},\"children\":\"writeTextFile\"}],[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"(rulePath, ruleContent);\"}]]}],\"\\n\",[\"$\",\"span\",null,{\"data-line\":\"\",\"children\":[\"$\",\"span\",null,{\"style\":{\"color\":\"#24292E\"},\"children\":\"}\"}]}]]}]}]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"why-this-matters\",\"children\":[[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#why-this-matters\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Why this matters\"],\" \",[\"$\",\"a\",null,{\"id\":\"Why-this-matters\",\"href\":\"#Why-this-matters\",\"children\":\"#\"}]]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"unified-execution-interface\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#unified-execution-interface\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Unified execution interface\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Deno tasks (or npm scripts) standardize entry points for both developers and agents. Instead of relying on the LLM to construct shell commands with fragile flags, we expose deterministic tasks (e.g., \",[\"$\",\"code\",null,{\"children\":\"deno task db:reset\"}],\"). This reduces the \\\"context switching\\\" overhead for the developer and eliminates parameter hallucination for the agent.\"]}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"ingredients-for-the-recipe-of-success\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#ingredients-for-the-recipe-of-success\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Ingredients for the recipe of success\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"LLMs are fundamentally prediction engines. When you ask an LLM to interact with a non-standard codebase using only raw shell access, you are asking it to predict an output in an inconsistent environment. The error rate is typically high. The B-MCP pattern provides a structured, constrained environment where the inputs and outputs are known. Once established, the LLM's ability to forecast the correct solution becomes precise rather than a guess against an unknown runtime.\"}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"capabilities-as-versioned-code\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#capabilities-as-versioned-code\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Capabilities as versioned code\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Agent tools are standard code files. Debugging an agent's inability to parse a log becomes a standard code fix—adding a log or adjusting a regex—rather than an exercise in prompt engineering. This treats agent capabilities as software dependencies that are versioned, reviewed, and tested alongside the application logic. This also enables utilizing the agent to improve the codebase and reuse code from the project itself.\"}],\"\\n\",[\"$\",\"h4\",null,{\"id\":\"security-through-existing-primitives\",\"children\":[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#security-through-existing-primitives\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Security through existing primitives\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"By importing application logic directly (e.g., \",[\"$\",\"code\",null,{\"children\":\"import { redis } from \\\"@/lib/redis.ts\\\"\"}],\"), the MCP server inherits existing environment configurations and secret management. There is no need to duplicate credentials, mitigate data leakage risks, or configure a generic database tool. This also allows for fine-grained access control: instead of a blanket \\\"Database Tool,\\\" you expose specific, read-only functions (e.g., \",[\"$\",\"code\",null,{\"children\":\"getRedisKey\"}],\"), enforcing the principle of least privilege by design.\"]}],\"\\n\",[\"$\",\"h3\",null,{\"id\":\"conclusion\",\"children\":[[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#conclusion\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Conclusion\"],\" \",[\"$\",\"a\",null,{\"id\":\"Conclusion\",\"href\":\"#Conclusion\",\"children\":\"#\"}]]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The Bounded MCP pattern moves us from chatting with the LLM and repetitive prompting to capability-as-code. By providing a dedicated, self-improving interface for our code, we allow the LLM to function autonomously without losing the oversight and security required. This approach moves the burden of context from the prompt to the repository, offering a robust way to integrate agents into your workflows.\"}],\"\\n\",[\"$\",\"hr\",null,{}],\"\\n\",[\"$\",\"section\",null,{\"data-footnotes\":true,\"className\":\"footnotes\",\"children\":[[\"$\",\"h3\",null,{\"className\":\"sr-only\",\"id\":\"footnote-label\",\"children\":[[[\"$\",\"a\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#footnote-label\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Footnotes\"],\" \",[\"$\",\"a\",null,{\"id\":\"Footnotes\",\"href\":\"#Footnotes\",\"children\":\"#\"}]]}],\"\\n\",[\"$\",\"ol\",null,{\"children\":[\"\\n\",[\"$\",\"li\",null,{\"id\":\"user-content-fn-1\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[\"Claude Opus 4.5 and Gemini 3 Pro broken \",[\"$\",\"a\",null,{\"href\":\"https://www.swebench.com/\",\"children\":\"new records\"}],\" as of December 2025. \",[\"$\",\"a\",null,{\"href\":\"#user-content-fnref-1\",\"data-footnote-backref\":\"\",\"aria-label\":\"Back to reference 1\",\"className\":\"data-footnote-backref\",\"children\":\"↩\"}]]}],\"\\n\"]}],\"\\n\",[\"$\",\"li\",null,{\"id\":\"user-content-fn-2\",\"children\":[\"\\n\",[\"$\",\"p\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"https://dtsbourg.me/en/articles/mcp-explained-again\",\"children\":\"MCP Explained… Again\"}],\" by Dylan Bourgeois. \",[\"$\",\"a\",null,{\"href\":\"#user-content-fnref-2\",\"data-footnote-backref\":\"\",\"aria-label\":\"Back to reference 2\",\"className\":\"data-footnote-backref\",\"children\":\"↩\"}]]}],\"\\n\"]}],\"\\n\"]}],\"\\n\"]}]]}]\n"])</script><script>self.__next_f.push([1,"d:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Bounded MCPs: minimizing noise, maximizing agency\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"How to deploy a secure, project-specific agentic interface for seamless LLM iteration.\"}],[\"$\",\"link\",\"4\",{\"rel\":\"icon\",\"href\":\"/icon.svg?a05afc09b4abba7d\",\"type\":\"image/svg+xml\",\"sizes\":\"any\"}],[\"$\",\"meta\",\"5\",{\"name\":\"next-size-adjust\"}]]\n4:null\n"])</script></body></html>