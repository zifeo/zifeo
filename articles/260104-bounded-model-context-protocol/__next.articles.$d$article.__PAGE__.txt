1:"$Sreact.fragment"
7e:I[2718,["/_next/static/chunks/483a12865e0bba97.js","/_next/static/chunks/1d3be43a6dda29b7.js"],"OutletBoundary"]
7f:"$Sreact.suspense"
0:{"buildId":"xIQlE21ZNOCTb_sKfkF8e","rsc":["$","$1","c",{"children":[["$","article",null,{"children":[["$","h2",null,{"id":"bounded-mcps-minimizing-noise-maximizing-agency","children":[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#bounded-mcps-minimizing-noise-maximizing-agency","children":["$","span",null,{"className":"icon icon-link"}]}],"Bounded MCPs: minimizing noise, maximizing agency"]}],"\n",["$","p",null,{"children":["While Large Language Models (LLMs) are increasingly capable of writing code",["$","sup",null,{"children":["$","a",null,{"href":"#user-content-fn-1","id":"user-content-fnref-1","data-footnote-ref":true,"aria-describedby":"footnote-label","children":"1"}]}],", they often struggle with the \"last mile\" of execution. Setting your LLM agent in auto-run on your terminal is a security and privacy risk, while giving it no access severely limits its utility."]}],"\n",["$","p",null,{"children":["The ",["$","strong",null,{"children":"Bounded MCP pattern"}]," solves this by treating the Model Context Protocol not as a global utility, but as a project-specific agentic interface. This aligns with the vision of MCP as a \"USB-C for AI\"",["$","sup",null,{"children":["$","a",null,{"href":"#user-content-fn-2","id":"user-content-fnref-2","data-footnote-ref":true,"aria-describedby":"footnote-label","children":"2"}]}],", but scoped strictly to your project's context. It creates a secure, version-controlled digital twin of your repository's capabilities."]}],"\n",["$","h3",null,{"id":"b-mcp-architecture","children":[[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#b-mcp-architecture","children":["$","span",null,{"className":"icon icon-link"}]}],"B-MCP architecture"]," ",["$","a",null,{"id":"B-MCP-architecture","href":"#B-MCP-architecture","children":"#"}]]}],"\n",["$","p",null,{"children":"The core concept is a self-reloading loop that allows the LLM to modify its own toolset without the developer ever leaving the flow state. This creates a reflexive system that observes and modifies its own boundaries."}],"\n",["$","h4",null,{"id":"1-the-project-scoped-server","children":[[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#1-the-project-scoped-server","children":["$","span",null,{"className":"icon icon-link"}]}],"1. The project-scoped server"]," ",["$","a",null,{"id":"1.-The-project-scoped-server","href":"#1.-The-project-scoped-server","children":"#"}]]}],"\n",["$","p",null,{"children":["Unlike a global MCP server that has access to your entire filesystem, a Bounded MCP lives in your project's ",["$","code",null,{"children":"mcp/"}]," directory. It is scoped strictly to the resources of that project—specific Docker containers, Redis keys, or S3 buckets. This follows the principle of least privilege, ensuring that the AI's \"worldview\" is limited to the current scope."]}],"\n",["$","h4",null,{"id":"2-the-feedback-loop","children":[[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#2-the-feedback-loop","children":["$","span",null,{"className":"icon icon-link"}]}],"2. The feedback loop"]," ",["$","a",null,{"id":"2.-The-feedback-loop","href":"#2.-The-feedback-loop","children":"#"}]]}],"\n",["$","p",null,{"children":"The pattern relies on the automated refresh cycle. By using a runtime like Deno with watch mode, we can create the reflexive feedback loop:"}],"\n",["$","ul",null,{"className":"list-disc ml-4 mt-4","children":["\n",["$","li",null,{"children":[["$","strong",null,{"children":"Watch Mode"}],": The MCP server monitors its dependencies."]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"Auto-Restart"}],": When your or the LLM writes a new tool, the MCP server updates a timestamp in ",["$","code",null,{"children":".cursor/mcp.json"}],"."]}],"\n",["$","li",null,{"children":[["$","strong",null,{"children":"IDE Handshake"}],": Upon timestamp update, Cursor triggers a reload of the MCP server and the tools (note that you can avoid the \"double\" restart by switching to server-side events mode instead of stdio)."]}],"\n"]}],"\n","$L2","\n","$L3","\n","$L4","\n","$L5","\n","$L6","\n","$L7","\n","$L8","\n","$L9","\n","$La","\n","$Lb","\n","$Lc","\n","$Ld","\n","$Le","\n","$Lf","\n","$L10","\n","$L11","\n","$L12","\n","$L13","\n","$L14","\n","$L15","\n","$L16","\n","$L17","\n","$L18","\n","$L19","\n","$L1a","\n","$L1b","\n","$L1c","\n","$L1d","\n","$L1e","\n","$L1f","\n","$L20","\n","$L21","\n","$L22"]}],null,"$L23"]}],"loading":null,"isPartial":false}
2:["$","h3",null,{"id":"implementation","children":[[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#implementation","children":["$","span",null,{"className":"icon icon-link"}]}],"Implementation"]," ",["$","a",null,{"id":"Implementation","href":"#Implementation","children":"#"}]]}]
3:["$","p",null,{"children":["Here is an example using ",["$","code",null,{"children":"fastmcp"}]," and Deno. This setup allows the MCP server to reload and register new tools dynamically."]}]
4:["$","h4",null,{"id":"cursormcpjson","children":[[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#cursormcpjson","children":["$","span",null,{"className":"icon icon-link"}]}],["$","code",null,{"children":".cursor/mcp.json"}]]," ",["$","a",null,{"id":"","href":"#","children":"#"}]]}]
5:["$","p",null,{"children":"This file is the bridge between your project and the LLM editor. The timestamp is used to trigger a reload of the MCP server and the tools."}]
6:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"json","data-theme":"github-light","children":["$","code",null,{"data-language":"json","data-theme":"github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#005CC5"},"children":"  \"mcpServers\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#005CC5"},"children":"    \"local-ops\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#005CC5"},"children":"      \"command\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"deno\""}],["$","span",null,{"style":{"color":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#005CC5"},"children":"      \"args\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": ["}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"run\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"-A\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"--watch\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"mcp/main.ts\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"]"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    }"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  },"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#005CC5"},"children":"  \"_build\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"1735929600000"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"}"}]}]]}]}]}]
7:["$","h4",null,{"id":"denojson","children":[[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#denojson","children":["$","span",null,{"className":"icon icon-link"}]}],["$","code",null,{"children":"deno.json"}]]," ",["$","a",null,{"id":"","href":"#","children":"#"}]]}]
8:["$","p",null,{"children":"This configuration file defines the dependencies and the task to run the server."}]
9:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"json","data-theme":"github-light","children":["$","code",null,{"data-language":"json","data-theme":"github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"{"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#005CC5"},"children":"  \"tasks\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#005CC5"},"children":"    \"db:reset\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"echo 'Resetting database...'\""}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  },"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#005CC5"},"children":"  \"imports\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#005CC5"},"children":"    \"fastmcp\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"npm:fastmcp@3.26.7\""}],["$","span",null,{"style":{"color":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#005CC5"},"children":"    \"zod\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"npm:zod@4.3.5\""}],["$","span",null,{"style":{"color":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#005CC5"},"children":"    \"@std/path\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"jsr:@std/path@1.1.14\""}],["$","span",null,{"style":{"color":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#005CC5"},"children":"    \"@/\""}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"./src/\""}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  }"}]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"}"}]}]]}]}]}]
a:["$","h4",null,{"id":"mcpmaints","children":[[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#mcpmaints","children":["$","span",null,{"className":"icon icon-link"}]}],["$","code",null,{"children":"mcp/main.ts"}]]," ",["$","a",null,{"id":"","href":"#","children":"#"}]]}]
b:["$","p",null,{"children":"The entry point defines the server and its tools."}]
c:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"typescript","data-theme":"github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"import"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { FastMCP } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"from"}],["$","span",null,{"style":{"color":"#032F62"},"children":" \"fastmcp\""}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"import"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { refreshCursorConfig } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"from"}],["$","span",null,{"style":{"color":"#032F62"},"children":" \"./utils.ts\""}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"import"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" *"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" as"}],["$","span",null,{"style":{"color":"#24292E"},"children":" redis "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"from"}],["$","span",null,{"style":{"color":"#032F62"},"children":" \"./tools/redis.ts\""}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"import"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" *"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" as"}],["$","span",null,{"style":{"color":"#24292E"},"children":" deno "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"from"}],["$","span",null,{"style":{"color":"#032F62"},"children":" \"./tools/deno.ts\""}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// create a server strictly scoped to this project (\"local-ops\")"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"export"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" const"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" server"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#D73A49"},"children":" new"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" FastMCP"}],["$","span",null,{"style":{"color":"#24292E"},"children":"({"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  name: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"local-ops\""}],["$","span",null,{"style":{"color":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  version: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"1.0.0\""}],["$","span",null,{"style":{"color":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"});"}]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// add tools directly using namespace references"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"server."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"addTool"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(redis.getRedisKeyTool);"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"server."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"addTool"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(redis.listRedisKeysTool);"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// add project-specific Deno tasks"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"deno."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"addDenoTaskTool"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  server,"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"  \"db:reset\""}],["$","span",null,{"style":{"color":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#032F62"},"children":"  \"Reset the database (use as last resort only)\""}]}],"\n","$L24","\n","$L25","\n","$L26","\n","$L27","\n","$L28","\n","$L29","\n","$L2a","\n","$L2b"]}]}]}]
d:["$","h4",null,{"id":"mcptoolsdenots","children":[[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#mcptoolsdenots","children":["$","span",null,{"className":"icon icon-link"}]}],["$","code",null,{"children":"mcp/tools/deno.ts"}]]," ",["$","a",null,{"id":"","href":"#","children":"#"}]]}]
e:["$","p",null,{"children":"This helper wraps the complexity of invoking shell commands into a safe, typed MCP tool."}]
f:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"typescript","data-theme":"github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"import"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { FastMCP } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"from"}],["$","span",null,{"style":{"color":"#032F62"},"children":" \"fastmcp\""}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"import"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { z } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"from"}],["$","span",null,{"style":{"color":"#032F62"},"children":" \"zod\""}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"import"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { runCommand } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"from"}],["$","span",null,{"style":{"color":"#032F62"},"children":" \"../utils.ts\""}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"export"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" addDenoTaskTool"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E36209"},"children":"  server"}],["$","span",null,{"style":{"color":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" FastMCP"}],["$","span",null,{"style":{"color":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E36209"},"children":"  taskName"}],["$","span",null,{"style":{"color":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" string"}],["$","span",null,{"style":{"color":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#E36209"},"children":"  description"}],["$","span",null,{"style":{"color":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" string"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":") {"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  server."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"addTool"}],["$","span",null,{"style":{"color":"#24292E"},"children":"({"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    name: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"`deno_task_${"}],["$","span",null,{"style":{"color":"#24292E"},"children":"taskName"}],["$","span",null,{"style":{"color":"#032F62"},"children":"."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"replace"}],["$","span",null,{"style":{"color":"#032F62"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"/:/"}],["$","span",null,{"style":{"color":"#D73A49"},"children":"g"}],["$","span",null,{"style":{"color":"#032F62"},"children":", "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"_\""}],["$","span",null,{"style":{"color":"#032F62"},"children":")"}],["$","span",null,{"style":{"color":"#032F62"},"children":"}`"}],["$","span",null,{"style":{"color":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    description,"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    parameters: z."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"object"}],["$","span",null,{"style":{"color":"#24292E"},"children":"({"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      args: z."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"array"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(z."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"string"}],["$","span",null,{"style":{"color":"#24292E"},"children":"())."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"optional"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(),"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    }),"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"    execute"}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"async"}],["$","span",null,{"style":{"color":"#24292E"},"children":" ("}],"$L2c","$L2d","$L2e","$L2f","$L30","$L31","$L32","$L33","$L34"]}],"\n","$L35","\n","$L36","\n","$L37","\n","$L38","\n","$L39","\n","$L3a","\n","$L3b","\n","$L3c","\n","$L3d","\n","$L3e","\n","$L3f","\n","$L40","\n","$L41"]}]}]}]
10:["$","h4",null,{"id":"mcptoolsredists","children":[[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#mcptoolsredists","children":["$","span",null,{"className":"icon icon-link"}]}],["$","code",null,{"children":"mcp/tools/redis.ts"}]]," ",["$","a",null,{"id":"","href":"#","children":"#"}]]}]
11:["$","p",null,{"children":"This tool file exposes safe, read-only Redis operations to the LLM."}]
12:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"typescript","data-theme":"github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"import"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { z } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"from"}],["$","span",null,{"style":{"color":"#032F62"},"children":" \"zod\""}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// assumes you have a Redis client exported from your project (credentials are loaded the same way as your application code)"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"import"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { redis } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"from"}],["$","span",null,{"style":{"color":"#032F62"},"children":" \"@/lib/redis.ts\""}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"export"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" const"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" listRedisKeysTool"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#24292E"},"children":" {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  name: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"list_redis_keys\""}],["$","span",null,{"style":{"color":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  description: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"List keys in Redis matching a pattern (read-only)\""}],["$","span",null,{"style":{"color":"#24292E"},"children":","}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  parameters: z."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"object"}],["$","span",null,{"style":{"color":"#24292E"},"children":"({"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    pattern: z"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      ."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"string"}],["$","span",null,{"style":{"color":"#24292E"},"children":"()"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      ."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"optional"}],["$","span",null,{"style":{"color":"#24292E"},"children":"()"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      ."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"default"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"*\""}],["$","span",null,{"style":{"color":"#24292E"},"children":")"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      ."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"describe"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"The pattern to match\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"),"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  }),"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  execute"}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"async"}],["$","span",null,{"style":{"color":"#24292E"},"children":" ({ "}],["$","span",null,{"style":{"color":"#E36209"},"children":"pattern"}],["$","span",null,{"style":{"color":"#24292E"},"children":" }"}],["$","span",null,{"style":{"color":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}],["$","span",null,{"style":{"color":"#E36209"},"children":"pattern"}],["$","span",null,{"style":{"color":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" string"}],["$","span",null,{"style":{"color":"#24292E"},"children":" }) "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"=>"}],["$","span",null,{"style":{"color":"#24292E"},"children":" {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    const"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" keys"}],"$L42","$L43","$L44","$L45","$L46"]}],"\n","$L47","\n","$L48","\n","$L49","\n","$L4a","\n","$L4b","\n","$L4c","\n","$L4d","\n","$L4e","\n","$L4f","\n","$L50","\n","$L51","\n","$L52","\n","$L53","\n","$L54","\n","$L55"]}]}]}]
13:["$","h4",null,{"id":"mcputilsts","children":[[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#mcputilsts","children":["$","span",null,{"className":"icon icon-link"}]}],["$","code",null,{"children":"mcp/utils.ts"}]]," ",["$","a",null,{"id":"","href":"#","children":"#"}]]}]
14:["$","p",null,{"children":"This utility handles the handshake with Cursor, shell command execution, and enforces security governance."}]
15:["$","figure",null,{"data-rehype-pretty-code-figure":"","children":["$","pre",null,{"style":{"backgroundColor":"#fff","color":"#24292e"},"tabIndex":"0","data-language":"typescript","data-theme":"github-light","children":["$","code",null,{"data-language":"typescript","data-theme":"github-light","style":{"display":"grid"},"children":[["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"import"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { join } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"from"}],["$","span",null,{"style":{"color":"#032F62"},"children":" \"@std/path\""}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"// run a system command and return the output or error."}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"export"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" async"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" runCommand"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#E36209"},"children":"cmd"}],["$","span",null,{"style":{"color":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" string"}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#E36209"},"children":"args"}],["$","span",null,{"style":{"color":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" string"}],["$","span",null,{"style":{"color":"#24292E"},"children":"[]) {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  try"}],["$","span",null,{"style":{"color":"#24292E"},"children":" {"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    const"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" command"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#D73A49"},"children":" new"}],["$","span",null,{"style":{"color":"#24292E"},"children":" Deno."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"Command"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(cmd, { args });"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    const"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"stdout"}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"stderr"}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"success"}],["$","span",null,{"style":{"color":"#24292E"},"children":" } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#D73A49"},"children":" await"}],["$","span",null,{"style":{"color":"#24292E"},"children":" command."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"output"}],["$","span",null,{"style":{"color":"#24292E"},"children":"();"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    const"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" output"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#D73A49"},"children":" new"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" TextDecoder"}],["$","span",null,{"style":{"color":"#24292E"},"children":"()."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"decode"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(stdout);"}]]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    const"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" errorOutput"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#D73A49"},"children":" new"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" TextDecoder"}],["$","span",null,{"style":{"color":"#24292E"},"children":"()."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"decode"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(stderr);"}]]}],"\n",["$","span",null,{"data-line":"","children":" "}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#24292E"},"children":" {"}]]}],"\n",["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"      success,"}]}],"\n",["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      output: output."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"trim"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(),"}]]}],"\n",["$","span",null,{"data-line":"","children":["$L56","$L57","$L58"]}],"\n","$L59","\n","$L5a","\n","$L5b","\n","$L5c","\n","$L5d","\n","$L5e","\n","$L5f","\n","$L60","\n","$L61","\n","$L62","\n","$L63","\n","$L64","\n","$L65","\n","$L66","\n","$L67","\n","$L68","\n","$L69","\n","$L6a","\n","$L6b","\n","$L6c","\n","$L6d","\n","$L6e","\n","$L6f","\n","$L70","\n","$L71","\n","$L72","\n","$L73","\n","$L74","\n","$L75","\n","$L76","\n","$L77","\n","$L78","\n","$L79","\n","$L7a","\n","$L7b","\n","$L7c","\n","$L7d"]}]}]}]
16:["$","h4",null,{"id":"why-this-matters","children":[[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#why-this-matters","children":["$","span",null,{"className":"icon icon-link"}]}],"Why this matters"]," ",["$","a",null,{"id":"Why-this-matters","href":"#Why-this-matters","children":"#"}]]}]
17:["$","h4",null,{"id":"unified-execution-interface","children":[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#unified-execution-interface","children":["$","span",null,{"className":"icon icon-link"}]}],"Unified execution interface"]}]
18:["$","p",null,{"children":["Deno tasks (or npm scripts) standardize entry points for both developers and agents. Instead of relying on the LLM to construct shell commands with fragile flags, we expose deterministic tasks (e.g., ",["$","code",null,{"children":"deno task db:reset"}],"). This reduces the \"context switching\" overhead for the developer and eliminates parameter hallucination for the agent."]}]
19:["$","h4",null,{"id":"ingredients-for-the-recipe-of-success","children":[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#ingredients-for-the-recipe-of-success","children":["$","span",null,{"className":"icon icon-link"}]}],"Ingredients for the recipe of success"]}]
1a:["$","p",null,{"children":"LLMs are fundamentally prediction engines. When you ask an LLM to interact with a non-standard codebase using only raw shell access, you are asking it to predict an output in an inconsistent environment. The error rate is typically high. The B-MCP pattern provides a structured, constrained environment where the inputs and outputs are known. Once established, the LLM's ability to forecast the correct solution becomes precise rather than a guess against an unknown runtime."}]
1b:["$","h4",null,{"id":"capabilities-as-versioned-code","children":[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#capabilities-as-versioned-code","children":["$","span",null,{"className":"icon icon-link"}]}],"Capabilities as versioned code"]}]
1c:["$","p",null,{"children":"Agent tools are standard code files. Debugging an agent's inability to parse a log becomes a standard code fix—adding a log or adjusting a regex—rather than an exercise in prompt engineering. This treats agent capabilities as software dependencies that are versioned, reviewed, and tested alongside the application logic. This also enables utilizing the agent to improve the codebase and reuse code from the project itself."}]
1d:["$","h4",null,{"id":"security-through-existing-primitives","children":[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#security-through-existing-primitives","children":["$","span",null,{"className":"icon icon-link"}]}],"Security through existing primitives"]}]
1e:["$","p",null,{"children":["By importing application logic directly (e.g., ",["$","code",null,{"children":"import { redis } from \"@/lib/redis.ts\""}],"), the MCP server inherits existing environment configurations and secret management. There is no need to duplicate credentials, mitigate data leakage risks, or configure a generic database tool. This also allows for fine-grained access control: instead of a blanket \"Database Tool,\" you expose specific, read-only functions (e.g., ",["$","code",null,{"children":"getRedisKey"}],"), enforcing the principle of least privilege by design."]}]
1f:["$","h3",null,{"id":"conclusion","children":[[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#conclusion","children":["$","span",null,{"className":"icon icon-link"}]}],"Conclusion"]," ",["$","a",null,{"id":"Conclusion","href":"#Conclusion","children":"#"}]]}]
20:["$","p",null,{"children":"The Bounded MCP pattern moves us from chatting with the LLM and repetitive prompting to capability-as-code. By providing a dedicated, self-improving interface for our code, we allow the LLM to function autonomously without losing the oversight and security required. This approach moves the burden of context from the prompt to the repository, offering a robust way to integrate agents into your workflows."}]
21:["$","hr",null,{}]
22:["$","section",null,{"data-footnotes":true,"className":"footnotes","children":[["$","h3",null,{"className":"sr-only","id":"footnote-label","children":[[["$","a",null,{"aria-hidden":"true","tabIndex":"-1","href":"#footnote-label","children":["$","span",null,{"className":"icon icon-link"}]}],"Footnotes"]," ",["$","a",null,{"id":"Footnotes","href":"#Footnotes","children":"#"}]]}],"\n",["$","ol",null,{"className":"list-decimal ml-4 mt-4","children":["\n",["$","li",null,{"id":"user-content-fn-1","children":["\n",["$","p",null,{"children":["Claude Opus 4.5 and Gemini 3 Pro have broken ",["$","a",null,{"href":"https://www.swebench.com/","children":"new records"}]," as of December 2025. ",["$","a",null,{"href":"#user-content-fnref-1","data-footnote-backref":"","aria-label":"Back to reference 1","className":"data-footnote-backref","children":"↩"}]]}],"\n"]}],"\n",["$","li",null,{"id":"user-content-fn-2","children":["\n",["$","p",null,{"children":[["$","a",null,{"href":"https://dtsbourg.me/en/articles/mcp-explained-again","children":"MCP Explained… Again"}]," by Dylan Bourgeois. ",["$","a",null,{"href":"#user-content-fnref-2","data-footnote-backref":"","aria-label":"Back to reference 2","className":"data-footnote-backref","children":"↩"}]]}],"\n"]}],"\n"]}],"\n"]}]
23:["$","$L7e",null,{"children":["$","$7f",null,{"name":"Next.MetadataOutlet","children":"$@80"}]}]
24:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":");"}]}]
25:["$","span",null,{"data-line":"","children":" "}]
26:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"if"}],["$","span",null,{"style":{"color":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#D73A49"},"children":"import"}],["$","span",null,{"style":{"color":"#24292E"},"children":"."}],["$","span",null,{"style":{"color":"#005CC5"},"children":"meta"}],["$","span",null,{"style":{"color":"#24292E"},"children":".main) {"}]]}]
27:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"  // 1. notify Cursor that config might have changed (refresh timestamp)"}]}]
28:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#6A737D"},"children":"  // 2. start the server"}]}]
29:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  await"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" refreshCursorConfig"}],["$","span",null,{"style":{"color":"#24292E"},"children":"();"}]]}]
2a:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  await"}],["$","span",null,{"style":{"color":"#24292E"},"children":" server."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"start"}],["$","span",null,{"style":{"color":"#24292E"},"children":"({ transportType: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"stdio\""}],["$","span",null,{"style":{"color":"#6A737D"},"children":" /* or \"httpStream\" */"}],["$","span",null,{"style":{"color":"#24292E"},"children":" });"}]]}]
2b:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"}"}]}]
2c:["$","span",null,{"style":{"color":"#E36209"},"children":"params"}]
2d:["$","span",null,{"style":{"color":"#D73A49"},"children":":"}]
2e:["$","span",null,{"style":{"color":"#24292E"},"children":" { "}]
2f:["$","span",null,{"style":{"color":"#E36209"},"children":"args"}]
30:["$","span",null,{"style":{"color":"#D73A49"},"children":"?:"}]
31:["$","span",null,{"style":{"color":"#005CC5"},"children":" string"}]
32:["$","span",null,{"style":{"color":"#24292E"},"children":"[] }) "}]
33:["$","span",null,{"style":{"color":"#D73A49"},"children":"=>"}]
34:["$","span",null,{"style":{"color":"#24292E"},"children":" {"}]
35:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"      const"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"args"}],["$","span",null,{"style":{"color":"#24292E"},"children":" } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#24292E"},"children":" params;"}]]}]
36:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"      const"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"success"}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"output"}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"error"}],["$","span",null,{"style":{"color":"#24292E"},"children":" } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#D73A49"},"children":" await"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" runCommand"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"deno\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", ["}]]}]
37:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"        \"task\""}],["$","span",null,{"style":{"color":"#24292E"},"children":","}]]}]
38:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"        taskName,"}]}]
39:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"        ..."}],["$","span",null,{"style":{"color":"#24292E"},"children":"(args "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"||"}],["$","span",null,{"style":{"color":"#24292E"},"children":" []),"}]]}]
3a:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"      ]);"}]}]
3b:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"      if"}],["$","span",null,{"style":{"color":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#D73A49"},"children":"!"}],["$","span",null,{"style":{"color":"#24292E"},"children":"success) {"}]]}]
3c:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"        throw"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" new"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" Error"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(error "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"||"}],["$","span",null,{"style":{"color":"#032F62"},"children":" `Task '${"}],["$","span",null,{"style":{"color":"#24292E"},"children":"taskName"}],["$","span",null,{"style":{"color":"#032F62"},"children":"}' failed.`"}],["$","span",null,{"style":{"color":"#24292E"},"children":");"}]]}]
3d:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"      }"}]}]
3e:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"      return"}],["$","span",null,{"style":{"color":"#24292E"},"children":" output "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"||"}],["$","span",null,{"style":{"color":"#24292E"},"children":" error "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"||"}],["$","span",null,{"style":{"color":"#032F62"},"children":" \"Task completed successfully.\""}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}]]}]
3f:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    },"}]}]
40:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  });"}]}]
41:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"}"}]}]
42:["$","span",null,{"style":{"color":"#D73A49"},"children":" ="}]
43:["$","span",null,{"style":{"color":"#D73A49"},"children":" await"}]
44:["$","span",null,{"style":{"color":"#24292E"},"children":" redis."}]
45:["$","span",null,{"style":{"color":"#6F42C1"},"children":"keys"}]
46:["$","span",null,{"style":{"color":"#24292E"},"children":"(pattern);"}]
47:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" JSON"}],["$","span",null,{"style":{"color":"#24292E"},"children":"."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"stringify"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(keys);"}]]}]
48:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  },"}]}]
49:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"};"}]}]
4a:["$","span",null,{"data-line":"","children":" "}]
4b:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"export"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" const"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" getRedisKeyTool"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#24292E"},"children":" {"}]]}]
4c:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  name: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"get_redis_key\""}],["$","span",null,{"style":{"color":"#24292E"},"children":","}]]}]
4d:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  description: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"Get the value of a key from Redis (read-only)\""}],["$","span",null,{"style":{"color":"#24292E"},"children":","}]]}]
4e:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  parameters: z."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"object"}],["$","span",null,{"style":{"color":"#24292E"},"children":"({"}]]}]
4f:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    key: z."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"string"}],["$","span",null,{"style":{"color":"#24292E"},"children":"()."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"describe"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"The key to retrieve\""}],["$","span",null,{"style":{"color":"#24292E"},"children":"),"}]]}]
50:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  }),"}]}]
51:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#6F42C1"},"children":"  execute"}],["$","span",null,{"style":{"color":"#24292E"},"children":": "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"async"}],["$","span",null,{"style":{"color":"#24292E"},"children":" ({ "}],["$","span",null,{"style":{"color":"#E36209"},"children":"key"}],["$","span",null,{"style":{"color":"#24292E"},"children":" }"}],["$","span",null,{"style":{"color":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#24292E"},"children":" { "}],["$","span",null,{"style":{"color":"#E36209"},"children":"key"}],["$","span",null,{"style":{"color":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" string"}],["$","span",null,{"style":{"color":"#24292E"},"children":" }) "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"=>"}],["$","span",null,{"style":{"color":"#24292E"},"children":" {"}]]}]
52:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    const"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" value"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#D73A49"},"children":" await"}],["$","span",null,{"style":{"color":"#24292E"},"children":" redis."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"get"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(key);"}]]}]
53:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#24292E"},"children":" value "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"??"}],["$","span",null,{"style":{"color":"#032F62"},"children":" \"(nil)\""}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}]]}]
54:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  },"}]}]
55:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"};"}]}]
56:["$","span",null,{"style":{"color":"#24292E"},"children":"      error: errorOutput."}]
57:["$","span",null,{"style":{"color":"#6F42C1"},"children":"trim"}]
58:["$","span",null,{"style":{"color":"#24292E"},"children":"(),"}]
59:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    };"}]}]
5a:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"catch"}],["$","span",null,{"style":{"color":"#24292E"},"children":" ("}],["$","span",null,{"style":{"color":"#E36209"},"children":"error"}],["$","span",null,{"style":{"color":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" unknown"}],["$","span",null,{"style":{"color":"#24292E"},"children":") {"}]]}]
5b:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    return"}],["$","span",null,{"style":{"color":"#24292E"},"children":" {"}]]}]
5c:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      success: "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"false"}],["$","span",null,{"style":{"color":"#24292E"},"children":","}]]}]
5d:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      output: "}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"\""}],["$","span",null,{"style":{"color":"#24292E"},"children":","}]]}]
5e:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"      error: error "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"instanceof"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" Error"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" ?"}],["$","span",null,{"style":{"color":"#24292E"},"children":" error.message "}],["$","span",null,{"style":{"color":"#D73A49"},"children":":"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" String"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(error),"}]]}]
5f:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"    };"}]}]
60:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  }"}]}]
61:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"}"}]}]
62:["$","span",null,{"data-line":"","children":" "}]
63:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"export"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" async"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" function"}],["$","span",null,{"style":{"color":"#6F42C1"},"children":" refreshCursorConfig"}],["$","span",null,{"style":{"color":"#24292E"},"children":"() {"}]]}]
64:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  const"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" mcpConfigPath"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#032F62"},"children":" \"./.cursor/mcp.json\""}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}]]}]
65:["$","span",null,{"data-line":"","children":" "}]
66:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  try"}],["$","span",null,{"style":{"color":"#24292E"},"children":" {"}]]}]
67:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    const"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" content"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#D73A49"},"children":" await"}],["$","span",null,{"style":{"color":"#24292E"},"children":" Deno."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"readTextFile"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(mcpConfigPath);"}]]}]
68:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    const"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" json"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#005CC5"},"children":" JSON"}],["$","span",null,{"style":{"color":"#24292E"},"children":"."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"parse"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(content);"}]]}]
69:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    json._build "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"="}],["$","span",null,{"style":{"color":"#24292E"},"children":" Date."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"now"}],["$","span",null,{"style":{"color":"#24292E"},"children":"();"}]]}]
6a:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"    await"}],["$","span",null,{"style":{"color":"#24292E"},"children":" Deno."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"writeTextFile"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(mcpConfigPath, "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"JSON"}],["$","span",null,{"style":{"color":"#24292E"},"children":"."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"stringify"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(json, "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"null"}],["$","span",null,{"style":{"color":"#24292E"},"children":", "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"2"}],["$","span",null,{"style":{"color":"#24292E"},"children":"));"}]]}]
6b:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"  } "}],["$","span",null,{"style":{"color":"#D73A49"},"children":"catch"}],["$","span",null,{"style":{"color":"#24292E"},"children":" (e) {"}]]}]
6c:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#24292E"},"children":"    console."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"error"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"Failed to update .cursor/mcp.json\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", e);"}]]}]
6d:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"  }"}]}]
6e:["$","span",null,{"data-line":"","children":" "}]
6f:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  const"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" rulePath"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#032F62"},"children":" \"./.cursor/rules/mcp-governance.mdc\""}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}]]}]
70:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  const"}],["$","span",null,{"style":{"color":"#005CC5"},"children":" ruleContent"}],["$","span",null,{"style":{"color":"#D73A49"},"children":" ="}],["$","span",null,{"style":{"color":"#032F62"},"children":" `---"}]]}]
71:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#032F62"},"children":"description: MCP Governance Policy"}]}]
72:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#032F62"},"children":"globs: mcp/**/*.ts"}]}]
73:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#032F62"},"children":"---"}]}]
74:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#032F62"},"children":"# MCP Tool Governance"}]}]
75:["$","span",null,{"data-line":"","children":" "}]
76:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"Any code changes or new files in the "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"\\`"}],["$","span",null,{"style":{"color":"#032F62"},"children":"mcp/"}],["$","span",null,{"style":{"color":"#005CC5"},"children":"\\`"}],["$","span",null,{"style":{"color":"#032F62"},"children":" directory represent a capability expansion for the agent."}]]}]
77:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#032F62"},"children":"**Requirement:** You must ask for explicit human confirmation before using a newly created or modified tool for the first time."}]}]
78:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#032F62"},"children":"**Invitation:** You are invited to add new tools if you identify frequent access patterns for which a tool is currently missing."}]}]
79:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#032F62"},"children":"`"}],["$","span",null,{"style":{"color":"#24292E"},"children":";"}]]}]
7a:["$","span",null,{"data-line":"","children":" "}]
7b:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  await"}],["$","span",null,{"style":{"color":"#24292E"},"children":" Deno."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"mkdir"}],["$","span",null,{"style":{"color":"#24292E"},"children":"("}],["$","span",null,{"style":{"color":"#032F62"},"children":"\"./.cursor/rules\""}],["$","span",null,{"style":{"color":"#24292E"},"children":", { recursive: "}],["$","span",null,{"style":{"color":"#005CC5"},"children":"true"}],["$","span",null,{"style":{"color":"#24292E"},"children":" });"}]]}]
7c:["$","span",null,{"data-line":"","children":[["$","span",null,{"style":{"color":"#D73A49"},"children":"  await"}],["$","span",null,{"style":{"color":"#24292E"},"children":" Deno."}],["$","span",null,{"style":{"color":"#6F42C1"},"children":"writeTextFile"}],["$","span",null,{"style":{"color":"#24292E"},"children":"(rulePath, ruleContent);"}]]}]
7d:["$","span",null,{"data-line":"","children":["$","span",null,{"style":{"color":"#24292E"},"children":"}"}]}]
80:null
